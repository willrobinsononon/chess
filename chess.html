<head>
    <title>Chess</title>
    <style>
        #board {
            background-image: url("static/chessboard.png");
            background-size: cover;
        }

        .piece {
            position: absolute;
        }
    </style>
</head>
<body onload="newGame()">
    <div id="board">

    </div>
    <script>
        var squareSize = 68;


        //size board
        const board = document.getElementById("board")
        board.style.width = squareSize * 8;
        board.style.height = squareSize * 8;


        class Piece {
            render = document.createElement("div");

            currentSquare;

            constructor(startSquare) {
                this.render.classList.add('piece');
                this.render.style.width = squareSize;
                this.render.style.height = squareSize;
                this.render.style.transform = `translate(${startSquare.x * squareSize}px, ${(7 - startSquare.y) * squareSize}px)`
                this.currentSquare = startSquare;
                board.appendChild(this.render);
            }
        }

        class King extends Piece {
            constructor(color) {
                super({x:4, y: color==='white' ? 0 : 7});
                this.render.classList.add(color);
                this.render.classList.add("king");
                this.render.style.backgroundImage = `url("static/pieces/${color}/king.png")`;
            }
        }

        class Queen extends Piece {
            constructor(color) {
                super({x:3, y: color==='white' ? 0 : 7});
                this.render.classList.add(color);
                this.render.classList.add("queen");
                this.render.style.backgroundImage = `url("static/pieces/${color}/queen.png")`;
            }
        }

        class Rook extends Piece {
            constructor(color, column) {
                super({x:column, y: color==='white' ? 0 : 7});
                this.render.classList.add(color);
                this.render.classList.add("rook");
                this.render.style.backgroundImage = `url("static/pieces/${color}/rook.png")`;
            }
        }

        class Knight extends Piece {
            constructor(color, column) {
                super({x:column, y: color==='white' ? 0 : 7});
                this.render.classList.add(color);
                this.render.classList.add("knight");
                this.render.style.backgroundImage = `url("static/pieces/${color}/knight.png")`;
            }
        }

        class Bishop extends Piece {
            constructor(color, column) {
                super({x:column, y: color==='white' ? 0 : 7});
                this.render.classList.add(color);
                this.render.classList.add("bishop");
                this.render.style.backgroundImage = `url("static/pieces/${color}/bishop.png")`;
            }
        }

        class Pawn extends Piece {
            constructor(color, column) {
                super({x:column, y: color==='white' ? 1 : 6});
                this.render.classList.add(color);
                this.render.classList.add("pawn");
                this.render.style.backgroundImage = `url("static/pieces/${color}/pawn.png")`;
            }
        }

        function createSide(color) {
            var pawns = []
            for (let i = 0; i < 8; i++) {
                    pawns[i] = new Pawn(color, i)
            }

            return {
                rook1: new Rook(color, 0),
                knight1: new Knight(color, 1),
                bishop1: new Bishop(color, 2),
                king: new King(color),
                queen: new Queen(color),
                bishop2: new Bishop(color, 5),
                knight2: new Knight(color, 6),
                rook2: new Rook(color, 7),
                pawns: pawns
            }
        }

        function newGame() {
            blackPieces = createSide('black');
            whitePieces = createSide('white');
        }
    </script>
</body> 